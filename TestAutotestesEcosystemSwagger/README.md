<!-- Начало

- Swagger UI: https://localhost:59558/swagger/index.html
Тестовые данные для входа (для обоих API):
- admin / admin123

В Swagger UI проекта SwaggerApiProject отображаются следующие эндпоинты:

 1. GET /WeatherForecast
Описание:
Возвращает прогноз погоды на 5 дней вперёд со случайными значениями температуры и описанием.

Что проверяет:
-   Корректность структуры ответа:** Возвращает массив объектов `WeatherForecast` с полями `Date`, `TemperatureC`, `TemperatureF` (вычисляемое) и `Summary`.
-   Работоспособность API: Проверяет, что контроллер правильно обрабатывает GET-запрос и возвращает данные в формате JSON.
-   Генерацию случайных данных: Убеждается, что каждый запрос возвращает разные (псевдослучайные) значения.

Пример ответа:
```json
[
  {
    "date": "2025-09-16",
    "temperatureC": 25,
    "temperatureF": 76,
    "summary": "Warm"
  },
  {
    "date": "2025-09-17",
    "temperatureC": -5,
    "temperatureF": 23,
    "summary": "Freezing"
  }
]
```

2. GET /health
Описание:
Эндпоинт для проверки здоровья (health check) приложения. Не является частью контроллера, а добавлен напрямую в конвейер middleware в `Program.cs`.

Что проверяет:
-   Доступность приложения: Простейшая проверка, что API запущен и способен обрабатывать запросы.
-   Статус приложения: Всегда возвращает HTTP 200 OK и JSON с статусом `"Healthy"` и временной меткой.

Пример ответа:
```json
{
  "status": "Healthy",
  "timestamp": "2025-09-15T10:30:00Z"
}
```

3. GET /
Описание:
Корневой эндпоинт. Перенаправляет (HTTP 302 Redirect) на страницу Swagger UI (`/swagger` или `/api-docs` в зависимости от среды).

Что проверяет:
-   Перенаправление на документацию: Убеждается, что обращение к корню приложения корректно redirect'ит пользователя на интерактивную документацию Swagger.

Общие наблюдения и особенности:

1.  Автогенерация документации: Благодаря настройкам в `Program.cs` и `.csproj` ( `<GenerateDocumentationFile>true</GenerateDocumentationFile>` ), Swagger будет пытаться подтянуть XML-комментарии к методам и классам, если они добавлены в код. В текущем коде у эндпоинтов комментариев нет, поэтому в Swagger будут отображаться только их имена и схемы запроса/ответа.

2.  JWT Аутентификация: В Swagger UI будет отображаться кнопка "Authorize" (замочек), так как в конфигурации Swagger (`AddSecurityDefinition` и `AddSecurityRequirement`) добавлена схема аутентификации Bearer JWT. Это не значит, что сами эндпоинты её требуют — это лишь подготовка документации для будущих защищённых методов. Текущие эндпоинты (`/WeatherForecast`, `/health`, `/`) аутентификацию не требуют.

3.  CORS: Эндпоинты настроены на политику `"AllowAll"`, которая разрешает запросы с любых источников, любые методы и заголовки. Это удобно для разработки, но должно быть ужесточено для продакшена.

4.  Обработка ошибок: Все эндпоинты покрыты глобальным обработчиком исключений (`UseExceptionHandler`), который возвращает унифицированную ошибку в формате JSON в случае неожиданного сбоя.

5.  Среда выполнения: В зависимости от того, запущено приложение в Development или Production среде, меняется путь к Swagger UI (`/swagger` или `/api-docs` соответственно). Эндпоинт `/` перенаправит на правильный путь автоматически.

Итог: В текущем состоянии Swagger отображает один основной функциональный эндпоинт (`/WeatherForecast`) и два сервисных (`/health`, `/`), которые используются для проверки работоспособности API и перенаправления на документацию. Конфигурация Swagger подготовлена для будущего расширения API, включая аутентификацию и подробное описание методов.

Узнать структуру приложения:
    cd C:\Users\shute\development.vscode\shutenkowiki
    tree /F

Конец -->